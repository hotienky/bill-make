(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8785],{2979:function(e,n,t){"use strict";var r=t(7294),a=t(2379),o=t(4090),i=t(3666);function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){s(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function u(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(c){a=!0,o=c}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return t}(e,n)||m(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,n){if(e){if("string"===typeof e)return f(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,n):void 0}}function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var g=function(e){var n,t=d(r.useState(null!==(n=e.message)&&void 0!==n?n:""),2),l=t[0],s=t[1],m=d(r.useState([]),2),f=m[0],g=m[1],p=d(r.useState(!1),2),h=p[0],b=p[1],v=r.useRef(null),y=r.useRef(null),x=function(){var e;null===(e=y.current)||void 0===e||e.focus(),b(!0)},w=function(){var e;null===(e=y.current)||void 0===e||e.blur(),b(!1)},E=function(n){var t;if(e.dropFiles&&(n.preventDefault(),n.stopPropagation(),null===(t=y.current)||void 0===t||t.focus(),b(!0),n.dataTransfer&&n.dataTransfer.files)){for(var r=u(f),a=function(t){var a,o=c(c({},n.dataTransfer.files[t]),{},{src:"",urlStyle:""});if(null!==(a=e.imgDropTypes)&&void 0!==a&&a.includes(n.dataTransfer.files[t].type)){var i=new FileReader;i.onload=function(e){var n;o.src=null===(n=e.target)||void 0===n?void 0:n.result,o.urlStyle="url(".concat(o.src,")")},i.readAsDataURL(n.dataTransfer.files[t])}r.push(o)},o=0;o<n.dataTransfer.files.length;o++)a(o);setTimeout((function(){g(r)}),500)}};r.useEffect((function(){return v&&v.current&&(v.current.addEventListener("drop",E),v.current.addEventListener("dragover",x),v.current.addEventListener("dragleave",w)),function(){v&&v.current&&(v.current.removeEventListener("drop",E),v.current.removeEventListener("dragover",x),v.current.removeEventListener("dragleave",w))}}),[f]);var O=function(e){var n=u(f),t=n.indexOf(e);t>=0&&n.splice(t,1),g(n)},k=function(){(f.length||String(l).trim().length)&&("function"===typeof e.onSend&&e.onSend({message:l,files:f}),s(""),g([]))};return r.createElement("div",{className:"form",ref:v},r.createElement(a.x,{buttonIcon:!!e.buttonIcon,showButton:!!e.showButton},r.createElement("div",{className:"dropped-files"},f.map((function(n,t){return n.urlStyle?r.createElement("div",{key:t,style:{backgroundImage:n.urlStyle}},r.createElement("span",{className:"remove",onClick:function(){return O(n)}},"\xd7")):r.createElement("div",{key:t,className:e.filesIcon},r.createElement("span",{className:"remove",onClick:function(){return O(n)}},"\xd7"))}))),r.createElement("div",{className:"message-row"},r.createElement("input",{type:"text",value:l,onChange:function(e){return s(e.target.value)},placeholder:h?e.fileOverPlaceholder:e.placeholder,onKeyUp:function(e){e.preventDefault(),"Enter"===e.key&&k()}}),r.createElement(i.zx,{className:"send-button",onClick:k},e.buttonIcon?r.createElement(o.S5,{icon:e.buttonIcon}):e.buttonTitle))))};g.defaultProps={imgDropTypes:["image/png","image/jpeg","image/gif"],showButton:!0,dropFiles:!1,buttonTitle:"Send",placeholder:"Type a message",fileOverPlaceholder:"Drop file to send"},n.Z=g},7226:function(e,n,t){"use strict";t.d(n,{Z:function(){return g}});var r=t(7294),a=t(2379),o=function(e){return r.createElement(a.bc,null,(e.sender||e.date)&&r.createElement("p",{className:"sender"},e.sender," ",r.createElement("time",null,e.date)),e.message&&r.createElement("p",{className:"text"}," ",e.message))};function i(){return(i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){s(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var u=function(e){return r.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},!e.urlStyle&&r.createElement("span",{className:e.icon}),e.isImage&&r.createElement("div",{style:{backgroundImage:e.urlStyle}}))},d=function(e){var n=e.files?e.files.map((function(e){var n=function(e){return!!e.type&&["image/png","image/jpeg","image/gif"].includes(e.type)}(e);return c(c({},e),{},{urlStyle:n?"url(".concat(e.url,")"):"",isImage:n})})):[];return r.createElement(a.r6,null,r.createElement(o,{sender:e.sender,message:e.message,date:e.date}),n.length>1?r.createElement("div",{className:"message-content-group"},n.map((function(e,n){return r.createElement(u,i({key:n},e))}))):1===n.length&&r.createElement(u,n[0]))},m=function(e){var n={url:"https://maps.googleapis.com/maps/api/staticmap?center=".concat(e.latitude,",").concat(e.longitude,"&zoom=12&size=400x400&key=").concat(e.mapKey),type:"image/png",icon:""};return r.createElement(d,{sender:e.sender,message:e.message,date:e.date,files:[n]})},f=function(e){return r.createElement(a.ex,null,(e.sender||e.date)&&r.createElement("p",{className:"sender"},e.sender," ",r.createElement("time",null,e.date)),r.createElement("p",{className:"quote"},e.quote),r.createElement(o,{message:e.message}))},g=function(e){var n=r.useRef(null);r.useEffect((function(){n&&n.current&&n.current.scrollTo(0,n.current.scrollHeight)}),[e.messages]);return r.createElement("div",{className:"scrollable",ref:n},r.createElement("div",{className:"messages"},e.messages.map((function(n,t){var i,l;return r.createElement(a.nQ,{reply:n.reply,key:t},!n.reply&&r.createElement("div",{className:"avatar",style:{backgroundImage:"url(".concat(n.avatar,")")}},!n.avatar&&((l=null!==(i=n.sender)&&void 0!==i?i:"")?l.split(" ").map((function(e){return e.charAt(0)})).splice(0,2).join("").toUpperCase():"")),r.createElement("div",{className:"message"},function(n){switch(n.type){case"file":return r.createElement(d,{sender:n.sender,message:n.message,date:n.date,files:n.files});case"map":return r.createElement(m,{sender:n.sender,message:n.message,date:n.date,latitude:n.latitude,longitude:n.longitude,mapKey:e.mapKey});case"quote":return r.createElement(f,{sender:n.sender,message:n.message,date:n.date,quote:n.quote});default:return r.createElement(o,{sender:n.sender,message:n.message,date:n.date})}}(n)))})),!e.messages.length&&r.createElement("p",{className:"no-messages"},e.noMessages?e.noMessages:"No messages yet.")))}},8785:function(e,n,t){"use strict";t.d(n,{en:function(){return c},jA:function(){return o.Z},RH:function(){return i.Z}});var r=t(7294),a=t(2379),o=t(7226),i=t(2979),l=t(9556);t.o(l,"Checkbox")&&t.d(n,{Checkbox:function(){return l.Checkbox}}),t.o(l,"InputGroup")&&t.d(n,{InputGroup:function(){return l.InputGroup}});var c=function(e){return r.createElement(a.l2,e,r.createElement("header",null,e.title),e.children)};c.defaultProps={size:"Medium",status:"Primary"}},2379:function(e,n,t){"use strict";t.d(n,{l2:function(){return T},x:function(){return P},nQ:function(){return S},r6:function(){return k},ex:function(){return j},bc:function(){return O}});var r,a,o,i,l,c,s,u,d,m,f,g,p,h,b,v,y,x=t(1288),w=t(5914);function E(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}var O=x.ZP.div(r||(r=E(["\n  ","\n"])),(function(e){var n=e.theme;return(0,x.iv)(a||(a=E(["\n    display: flex;\n    flex-direction: column;\n    .sender {\n      font-size: 0.875rem;\n      color: ",";\n      margin-bottom: 0.5rem;\n    }\n    p {\n      word-wrap: break-word;\n      word-break: break-all;\n      max-width: 100%;\n      margin: 0;\n    }\n    .text {\n      padding: 1rem;\n      border-radius: 0.5rem;\n    }\n  "])),n.chatMessageSenderTextColor)})),k=x.ZP.div(o||(o=E(["\n  ","\n"])),(function(e){var n=e.theme;return(0,x.iv)(i||(i=E(["\n    display: flex;\n    flex-direction: column;\n    a {\n      color: ",";\n        background: ",";\n      font-size: 4rem;\n      text-align: center;\n      border: 1px solid ",";\n      width: 10rem;\n      height: 10rem;\n      overflow: hidden;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      flex-shrink: 0;\n      border-radius: 0.5rem;\n      &:hover,\n      &:focus {\n        text-decoration: none;\n        color: ",";\n      }\n      div {\n        background-size: cover;\n        width: 100%;\n        height: 100%;\n      }\n    }\n    "," {\n      display: block;\n      margin-bottom: 0.5rem;\n    }\n    .message-content-group {\n      display: flex;\n      flex-direction: row;\n      justify-content: flex-end;\n      flex-wrap: wrap;\n      a {\n        margin-",": 1rem;\n        margin-bottom: 1rem;\n        width: 5rem;\n        height: 5rem;\n      }\n    }\n  "])),n.chatMessageFileTextColor,n.chatMessageFileBackgroundColor,n.chatMessageFileTextColor,n.chatMessageFileTextColor,O,"rtl"===n.dir?"left":"right")})),j=x.ZP.div(l||(l=E(["\n  ","\n"])),(function(e){var n=e.theme;return(0,x.iv)(c||(c=E(["\n    p.quote {\n      font-style: italic;\n      font-size: 0.875rem;\n      background: ",";\n      color: ",";\n      padding: 1rem;\n      border-radius: 0.5rem;\n      margin-bottom: 0.5rem;\n    }\n    .sender {\n      font-size: 0.875rem;\n      color: ",";\n      margin-bottom: 0.5rem;\n    }\n  "])),n.chatMessageQuoteBackgroundColor,n.chatMessageQuoteTextColor,n.chatMessageSenderTextColor)})),S=x.ZP.div(s||(s=E(["\n  ","\n"])),(function(e){var n=e.theme,t=e.reply;return(0,x.iv)(u||(u=E(["\n    margin-bottom: 1.5rem;\n    display: flex;\n    flex-direction: row;\n    .message {\n      flex: 1;\n    }\n    .avatar {\n      border-radius: 50%;\n      flex-shrink: 0;\n      background: ",";\n      background-size: 3.4rem 2.6rem;\n      background: no-repeat center;\n      width: 2.5rem;\n      height: 2.5rem;\n      text-align: center;\n      line-height: 2.5rem;\n      font-size: 0.875rem;\n      color: white;\n    }\n    ","\n  "])),n.chatMessageAvatarBackgroundColor,t?(0,x.iv)(d||(d=E(["\n      flex-direction: row-reverse;\n      .message {\n        margin-",": 0.5rem;\n        margin-",": 3rem;\n      }\n      "," {\n        align-items: flex-end;\n        .sender {\n          text-align: ",";\n        }\n        .text {\n          border-top-","-radius: 0;\n          background: ",";\n          color: ",";\n        }\n      }\n      "," {\n        align-items: flex-start;\n      }\n    "])),"rtl"===n.dir?"left":"right","rtl"===n.dir?"right":"left",O,"rtl"===n.dir?"left":"right","rtl"===n.dir?"left":"right",n.chatMessageReplyBackgroundColor,n.chatMessageReplyTextColor,k):(0,x.iv)(m||(m=E(["\n      .message {\n        margin-",": 0.5rem;\n        margin-",": 3rem;\n      }\n      "," {\n        align-items: flex-start;\n        .text {\n          border-top-","-radius: 0;\n          background: ",";\n          color: ",";\n        }\n      }\n      "," {\n        align-items: flex-start;\n      }\n    "])),"rtl"===n.dir?"right":"left","rtl"===n.dir?"left":"right",O,"rtl"===n.dir?"right":"left",n.chatMessageBackground,n.chatMessageTextColor,k))})),P=x.ZP.div(f||(f=E(["\n  ","\n"])),(function(e){var n=e.theme,t=e.showButton,r=e.buttonIcon;return(0,x.iv)(g||(g=E(["\n    display: flex;\n    flex-direction: column;\n    padding: ",";\n    border-top: "," "," ",";\n    .message-row {\n      flex-direction: row;\n      display: flex;\n    }\n    input {\n      flex: 1;\n      padding: 1.25rem 1.5rem;\n      border-radius: 2rem;\n      outline: none;\n      box-sizing: border-box;\n      ","\n    }\n\n    .send-button {\n      border-radius: 3rem;\n      border-top-","-radius: 0;\n      border-bottom-","-radius: 0;\n\n      ","\n    }\n\n    .dropped-files {\n      display: flex;\n      flex-direction: row;\n      margin-bottom: 0.5rem;\n      flex-wrap: wrap;\n\n      div {\n        background-size: cover;\n        width: 3rem;\n        height: 3rem;\n        border-radius: 0.5rem;\n        margin-",": 0.5rem;\n        margin-bottom: 0.5rem;\n        text-align: center;\n        line-height: 3rem;\n        font-size: 2rem;\n        position: relative;\n\n        .remove {\n          position: absolute;\n          right: -0.5rem;\n          top: -0.875rem;\n          font-size: 0.875rem;\n          line-height: 1;\n          cursor: pointer;\n        }\n      }\n    }\n  "])),n.chatPadding,n.chatDividerWidth,n.chatDividerStyle,n.chatDividerColor,t&&(0,x.iv)(p||(p=E(["\n        border-top-","-radius: 0;\n        border-bottom-","-radius: 0;\n      "])),"rtl"===n.dir?"left":"right","rtl"===n.dir?"left":"right"),"rtl"===n.dir?"right":"left","rtl"===n.dir?"right":"left",r&&(0,x.iv)(h||(h=E(["\n          font-size: 3rem;\n        "]))),"rtl"===n.dir?"left":"right")})),T=x.ZP.div(b||(b=E(["\n  ","\n"])),(function(e){var n=e.theme,t=e.size,r=e.status;return(0,x.iv)(v||(v=E(["\n    background-color: ",";\n    border: ",";\n    border-radius: ",";\n    box-shadow: ",";\n    color: ",";\n    font-family: ",";\n    font-size: ",";\n    font-weight: ",";\n    line-height: ",";\n    display: flex;\n    flex-direction: column;\n    position: relative;\n    height: 100%;\n    header {\n      border-bottom: "," "," ",";\n      border-top-left-radius: ",";\n      border-top-right-radius: ",";\n      padding: ",";\n      font-family: ",";\n      font-size: ",";\n      font-weight: ",";\n      line-height: ",";\n    }\n\n    .scrollable {\n      overflow: auto;\n      flex: 1;\n      ","\n    }\n\n    .messages {\n      padding: ",";\n      overflow-y: auto;\n      overflow-x: hidden;\n      display: flex;\n      flex-shrink: 0;\n      flex-direction: column;\n    }\n\n    .no-messages {\n      text-align: center;\n    }\n\n    ","\n    ","\n  "])),n.chatBackgroundColor,n.chatBorder,n.chatBorderRadius,n.chatShadow,n.chatTextColor,n.chatTextFontFamily,n.chatTextFontSize,n.chatTextFontWeight,n.chatTextLineHeight,n.chatDividerWidth,n.chatDividerStyle,n.chatDividerColor,n.chatBorderRadius,n.chatBorderRadius,n.chatPadding,n.chatHeaderTextFontFamily,n.chatHeaderTextFontSize,n.chatHeaderTextFontWeight,n.chatHeaderTextLineHeight,(0,w.q9)(n.chatScrollbarColor,n.chatScrollbarBackgroundColor,n.chatScrollbarWidth),n.chatPadding,t&&"height: ".concat(n["chat".concat(t,"Height")],";"),r&&(0,x.iv)(y||(y=E(["\n      header {\n        background-color: ",";\n        color: ",";\n      }\n    "])),n["chat".concat(r,"BackgroundColor")],n["chat".concat(r,"TextColor")]))}))},9556:function(){}}]);